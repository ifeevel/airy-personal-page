---
/**
 * index.astro
 * 首页 - 个人引导页
 *
 * 结构：
 * - BaseLayout: 基础布局
 * - SplitLayout: 分栏布局（左侧 Banner + 右侧内容）
 * - ProfileCard: 个人信息卡片（头像、昵称、签名、地址）
 * - NavLinks: 导航链接列表
 * 数据：
 * - getSiteConfig: 获取站点配置（站点信息、导航链接信息）
 * 样式：
 * - 全局样式和组件样式
 */

import BaseLayout from "@layouts/BaseLayout.astro";
import SplitLayout from "@components/layout/SplitLayout.astro";
import { ProfileCard, NavLinks } from "@components/home";

import { Image } from "astro:assets";
import { getSiteConfig } from "@utils/config";

const { site: siteConfig, navigation: navigationConfig } = await getSiteConfig();
---

<BaseLayout title={siteConfig.title} description={siteConfig.description}>
    <SplitLayout splitRatio={siteConfig.splitRatio}>
        <!-- 左侧 Banner 区域 - banner插槽 -->
        <Image
            slot="banner"
            src={siteConfig.banner}
            alt="Banner"
            loading="eager"
            fetchpriority="high"
            widths={[400, 800, 1200, siteConfig.banner.width]}
            sizes="(max-width: 48rem) 1px, 50vw"
            decoding="async"
        />

        <!-- 右侧内容区域 - 个人信息卡片 -->
        <ProfileCard
            avatar={siteConfig.avatar}
            author={siteConfig.author}
            slogan={siteConfig.slogan}
            address={siteConfig.address}
        />

        <!-- 导航链接 -->
        {navigationConfig && <NavLinks items={navigationConfig} />}
    </SplitLayout>
</BaseLayout>
