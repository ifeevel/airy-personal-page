---
/**
 * 404.astro
 * 错误页 - 页面未找到
 *
 * 结构：
 * - BaseLayout: 基础布局
 * - SplitLayout: 分栏布局（左侧 Banner + 右侧内容）
 * - NavLinks: 返回首页链接
 * 数据：
 * - getSiteConfig: 获取网站配置（Banner 图）
 * 样式：
 * - 内联样式：页面专用样式
 */

import BaseLayout from "@layouts/BaseLayout.astro";
import SplitLayout from "@components/layout/SplitLayout.astro";
import { NavLinks } from "@components/home";

import { Image } from "astro:assets";
import { getSiteConfig } from "@utils/config";

const title = "Oops! Page Missing";
const { site: siteConfig } = await getSiteConfig();
---

<BaseLayout title={title}>
    <SplitLayout splitRatio={siteConfig.splitRatio}>
        <!-- 左侧 Banner 区域: 使用与主页相同的背景图 -->
        <Image
            slot="banner"
            src={siteConfig.banner}
            alt="Banner"
            loading="eager"
            fetchpriority="high"
            widths={[400, 800, 1200, siteConfig.banner.width]}
            sizes="(max-width: 48rem) 1px, 50vw"
            decoding="async"
        />

        <!-- 右侧内容区域: 404 错误信息 -->
        <h1 class="error-content__title">Oops!: Σ( ° △ °|||)</h1>
        <p class="error-content__message">你找的地方是一片荒漠</p>

        <!-- 返回首页链接 -->
        <NavLinks items={[{ name: "返回首页", path: "/" }]} />
    </SplitLayout>
</BaseLayout>

<style>
    /* 标题样式 */
    .error-content__title {
        font-size: 1.875rem;
        margin: 0;
    }
    /* 信息样式 */
    .error-content__message {
        font-size: 1rem;
        color: var(--text-secondary);
        font-weight: inherit;
        line-height: 1.875rem;
        width: 70%;
        margin: 1.25rem auto;
    }
    /* 移动端适配 */
    @media (max-width: 48rem) {
        .error-content__message {
            width: 100%;
        }
    }
</style>
