---
/**
 * BentoItem.astro
 * å…³äºé¡µé¢çš„ Bento å¡ç‰‡ç»„ä»¶
 *
 * Props:
 * - item: Bento å¡ç‰‡ç»„æ•°æ®å“åº”å¼ç½‘æ ¼å¡ç‰‡ç³»ç»Ÿï¼Œæ”¯æŒ full (æ•´è¡Œå®½åº¦), large (2x2), medium (2x1), small (1x1) å››ç§å¡ç‰‡å°ºå¯¸ã€‚
 */

import { BENTO_SIZE_MAP, BENTO_DISPLAY_TYPE_MAP } from "@constants/ui";
import { Icon } from "astro-icon/components";
import type { BentoItemProps as Props } from "@appTypes/site";

const { item } = Astro.props;
---

<div class={`bento-item ${item.size || BENTO_SIZE_MAP.SMALL}`}>
    {item.title && <div class="bento-title">{item.title}</div>}

    <div class="bento-content">
        {item.type === BENTO_DISPLAY_TYPE_MAP.TEXT && <p>{item.content}</p>}

        {
            item.type === BENTO_DISPLAY_TYPE_MAP.GRID && (
                <div class="tech-grid">
                    {item.items.map((tech) => (
                        <div class="tech-item" title={tech.name}>
                            <div class="tech-icon">
                                {tech.icon && tech.icon.includes(":") ? (
                                    <Icon name={tech.icon} />
                                ) : (
                                    <span>{tech.icon || "ğŸ”¹"}</span>
                                )}
                            </div>
                            <span>{tech.name}</span>
                        </div>
                    ))}
                </div>
            )
        }

        {
            item.type === BENTO_DISPLAY_TYPE_MAP.LINKS && (
                <div class="social-links">
                    {item.links.map((link) => (
                        <a
                            href={link.url}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="social-link"
                        >
                            {link.icon && link.icon.includes(":") ? (
                                <Icon name={link.icon} class="social-icon" />
                            ) : (
                                <span class="emoji-icon">ğŸ”—</span>
                            )}
                            <span>{link.name}</span>
                        </a>
                    ))}
                </div>
            )
        }
    </div>
</div>

<style>
    .social-icon {
        width: 1.25rem;
        height: 1.25rem;
    }
    .emoji-icon {
        font-size: 1.25rem;
    }
</style>
